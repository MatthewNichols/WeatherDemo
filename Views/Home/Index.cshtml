@{
    ViewBag.Title = "Index";
}

<div data-bind="with: homePageVm">
    <div class="currently" data-bind="with: currentConditions">
        <h4>Currently</h4>
        <div class="left">
            <img alt="Sunny" class="conditionIcon" data-bind="attr: {src: imageIconSrc, title: basicConditionName, alt: basicConditionName}" />
        </div>
        <div class="right">
            <div class="temp" data-bind="text: tempFormatted"></div>
            <div class="wind">
                Wind: <span data-bind="text: windFormatted"></span>
            </div>
        </div>
    </div>
    <div class="days">
        <div class="today day" data-bind="with: today">
            <div class="clickTarget" data-bind="click: $root.dayClickHandler">
                <h4>Today</h4>
                <div data-bind="template: {name: 'day-template' }"></div>
            </div>
        </div>
        <div class="tomorrow day" data-bind="with: tomorrow">
            <div class="clickTarget" data-bind="click: $root.dayClickHandler">
                <h4>Tomorrow</h4>
                <div data-bind="template: {name: 'day-template'}"></div>
            </div>
        </div>
        <div class="dayAfterTomorrow day" data-bind="with: dayAfterTomorrow">
            <div class="clickTarget" data-bind="click: $root.dayClickHandler">
                <h4>Day After Tomorrow</h4>
                <div data-bind="template: {name: 'day-template' }"></div>
            </div>
        </div>
    </div>
</div>

<div class="details" data-bind="with: detailsPageVm">
    <div class="other section">
        <div class="wind">Wind: <span data-bind="text: windFormatted"></span> </div>
        <div class="humidity">Humidity: 47%</div>
    </div>
    <div class="sun section">
        <div>Sunrise: 6:35 AM</div>
        <div>Sunset: 5:49 PM</div>
    </div>
    <div class="moon section">
        <div>Moonrise: 5:09 AM</div>
        <div>Moonset: 4:18 PM</div>
        <div>Waning Crescent, 4% of the Moon is Illuminated</div>
    </div>
</div>

<script id="day-template" type="text/html">
    <img alt="Sunny" class="conditionIcon" data-bind="attr: {src: imageIconSrc, title: basicConditionName, alt: basicConditionName}" />

    <div class="temp">
        High: <span data-bind="text: highTempFormatted"></span>
    </div>
    <div class="temp">
        Low: <span data-bind="text: lowTempFormatted"></span>
    </div>    
</script>
      

@section scripts
{
    @Scripts.Render("~/bundles/weatherapp")

    <script>
        Cachematrix.WeatherApp.init();
    </script>
}
